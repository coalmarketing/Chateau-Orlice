{% extends "layouts/base.njk" %}

{% block head %}
    <!-- To ensure proper validation, prevent errors, and encourage developers to check, schema's are an opt-in feature. They're very bespoke and requires some customising  -->
    <!-- Uncomment the code below to enable Structured Data, and test it when you deploy to Netlify - https://developers.google.com/search/docs/appearance/structured-data -->
    {% include "components/post-schema.njk" %}
{% endblock %}

{% block body %}
    <!-- LANDING -->
    <section class="pt-64 ~pb-16/24 ~px-4/8 relative z-10 before:absolute before:top-0 before:left-0 before:h-full before:w-full before:bg-black/50 before:-z-10">
        <div class="container m-auto flex flex-col justify-center items-center gap-8">
            <!-- BREADCRUMBS CONTAINER -->
            <div class="flex items-center ~gap-2/4 before:h-px before:~w-6/16 before:bg-gold after:h-px after:~w-6/16 after:bg-gold">
                {% include "components/topper-decoration.njk" %}
                <span class="topper text-cream">
                    {% if "specialOffer" in tags %}
                        {{ posts[page.lang].specialOffer }}
                    {% elif "stayPackage" in tags %}
                        {{ posts[page.lang].stayPackage }}
                    {% elif "tripRecommendation" in tags %}
                        {{ posts[page.lang].tripRecommendation }}
                    {% elif "news" in tags %}
                        {{ posts[page.lang].news }}
                    {% endif %}
                </span>
                {% include "components/topper-decoration.njk" %}
            </div>

            <h1 class="max-w-5xl text-center ~text-3xl/5xl text-white font-black uppercase">{{ title }}</h1>
        </div>

        <!-- BACKGROUND IMAGE -->
        {% if "specialOffer" in tags %}
            {% set landingImage = "/assets/images/stay-packages/stay-packages-1.jpg" %}
        {% elif "stayPackage" in tags %}
            {% set landingImage = "/assets/images/stay-packages/stay-packages-1.jpg" %}
        {% elif "tripRecommendation" in tags %}
            {% set landingImage = "/assets/images/trips/trips.jpg" %}
        {% elif "news" in tags %}
            {% set landingImage = "/assets/images/news/news.jpg" %}
        {% endif %}

        <picture>
            <!-- MOBILE IMAGE -->
            <source media="(max-width: 600px)" srcset="{% getUrl landingImage | resize({ width: 800, height: 856, position: 'attention' }) | avif %}" type="image/avif">
            <source media="(max-width: 600px)" srcset="{% getUrl landingImage | resize({ width: 800, height: 856, position: 'attention' }) | webp %}" type="image/webp">
            <source media="(max-width: 600px)" srcset="{% getUrl landingImage | resize({ width: 800, height: 856, position: 'attention' }) | jpeg %}" type="image/jpeg">
            <!-- TABLET IMAGE -->
            <source media="(max-width: 1024px)" srcset="{% getUrl landingImage | resize({ width: 1600, height: 832, position: 'attention' }) | avif %}" type="image/avif">
            <source media="(max-width: 1024px)" srcset="{% getUrl landingImage | resize({ width: 1600, height: 832, position: 'attention' }) | webp %}" type="image/webp">
            <source media="(max-width: 1024px)" srcset="{% getUrl landingImage | resize({ width: 1600, height: 832, position: 'attention' }) | jpeg %}" type="image/jpeg">
            <!-- DESKTOP IMAGE -->
            <source media="(min-width: 1024px)" srcset="{% getUrl landingImage | resize({ width: 3840, height: 904, position: 'attention' }) | avif %}" type="image/avif">
            <source media="(min-width: 1024px)" srcset="{% getUrl landingImage | resize({ width: 3840, height: 904, position: 'attention' }) | webp %}" type="image/webp">
            <source media="(min-width: 1024px)" srcset="{% getUrl landingImage | resize({ width: 3840, height: 904, position: 'attention' }) | jpeg %}" type="image/jpeg">
            <img
                class="object-cover absolute top-0 left-0 h-full w-full -z-20"
                src="{% getUrl landingImage | resize({ width: 3840, height: 904, position: 'attention' }) | jpeg %}"
                alt="{{ posts.landingImageAlt }}"
                width="1920"
                height="452"
                loading="eager"
                decoding="async"
                aria-hidden="true"
                draggable="false">
        </picture>
    </section>

    <article class="py-24 ~px-4/8">
        <div class="max-w-4xl m-auto flex flex-col items-center gap-8">
            <picture>
                <!-- MOBILE IMAGE -->
                <source media="(max-width: 600px)" srcset="{% getUrl image | avif %}" type="image/avif">
                <source media="(max-width: 600px)" srcset="{% getUrl image | webp %}" type="image/webp">
                <source media="(max-width: 600px)" srcset="{% getUrl image | jpeg %}" type="image/jpeg">
                <!-- TABLET IMAGE -->
                <source media="(max-width: 1024px)" srcset="{% getUrl image | avif %}" type="image/avif">
                <source media="(max-width: 1024px)" srcset="{% getUrl image | webp %}" type="image/webp">
                <source media="(max-width: 1024px)" srcset="{% getUrl image | jpeg %}" type="image/jpeg">
                <!-- DESKTOP IMAGE -->
                <source media="(min-width: 1024px)" srcset="{% getUrl image | resize({ width: 1792, height: 1008, position: 'attention' }) | avif %}" type="image/avif">
                <source media="(min-width: 1024px)" srcset="{% getUrl image | resize({ width: 1792, height: 1008, position: 'attention' }) | webp %}" type="image/webp">
                <source media="(min-width: 1024px)" srcset="{% getUrl image | resize({ width: 1792, height: 1008, position: 'attention' }) | jpeg %}" type="image/jpeg">
                <img
                    class="object-cover w-full aspect-video"
                    src="{% getUrl image | resize({ width: 1792, height: 1008, position: 'attention' }) | jpeg %}"
                    alt="{{ imageAlt }}"
                    width=""
                    height=""
                    loading="lazy"
                    decoding="async"
                    aria-hidden="true"
                    draggable="false">
            </picture>

            <div class="max-w-[75ch]">
                <div class="prose font-jakarta-sans">
                    {{ content | safe }}
                </div>
            </div>
        </div>
    </article>

{% endblock %}